(window.wpshopify=window.wpshopify||[]).push([["CartWrapper"],{"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/wrapper/index.jsx":function(e,t,n){"use strict";n.r(t);var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/regenerator/index.js"),a=n.n(o),c=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=n.n(c),p=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/slicedToArray.js"),d=n.n(p),i=n("./node_modules/react/index.js"),r=n.n(i),l=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/_state/context.js"),w=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/shop/_state/context.js"),u=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/hooks/index.js"),y=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/utils/index.js"),f=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/cart/index.js"),m=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isEmpty.js"),b=n.n(m),h=n("../../../../../devil/devilbox-new/data/www/wpshopify-api/index.js"),E=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/await-to-js/dist/await-to-js.es5.js"),T=r.a.lazy(function(){return n.e("CartHeader").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/header/index.jsx"))}),_=r.a.lazy(function(){return n.e("CartContents").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/contents/index.jsx"))}),j=r.a.lazy(function(){return n.e("CartFooter").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/footer/index.jsx"))}),x=r.a.lazy(function(){return n.e("CartButtons").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/buttons/index.jsx"))});t.default=function(){var e=Object(i.useContext)(l.a),t=d()(e,2),n=t[0],o=t[1],c=Object(i.useContext)(w.a),p=d()(c,2),m=p[0],v=p[1],C=Object(i.useRef)(),O=Object(i.useRef)(!0),I=Object(u.a)("update.checkout.attributes"),A=Object(u.a)("set.checkout.attributes"),S=Object(u.a)("set.checkout.note"),k=Object(u.a)("product.addToCart"),R=Object(u.a)("cart.toggle");function N(){return(N=s()(a.a.mark(function e(){var t,n,c,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m.checkoutId){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(E.a)(Object(h.m)());case 4:t=e.sent,n=d()(t,2),c=n[0],s=n[1],c&&v({type:"UPDATE_NOTICES",payload:{type:"error",message:c}}),o({type:"SET_CHECKOUT_CACHE",payload:{checkoutId:m.checkoutId}}),o({type:"SET_LINE_ITEMS_AND_VARIANTS",payload:{lineItems:{products:s},checkoutId:m.checkoutId}}),b()(s)?o({type:"SET_IS_CART_EMPTY",payload:!0}):o({type:"SET_IS_CART_EMPTY",payload:!1}),o({type:"SET_IS_CART_READY",payload:!0});case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(i.useEffect)(function(){!function(){N.apply(this,arguments)}()},[m.checkoutId]),Object(i.useEffect)(function(){o({type:"SET_TOTAL_LINE_ITEMS",payload:Object(f.a)(n.checkoutCache.lineItems)})},[n.isReady,n.checkoutCache.lineItems]),Object(i.useEffect)(function(){Object(y.g)()&&wp.hooks.doAction("on.checkout.update",n)},[n.totalLineItems]),Object(i.useEffect)(function(){O.current?O.current=!1:o({type:"UPDATE_CHECKOUT_ATTRIBUTES",payload:I})},[I]),Object(i.useEffect)(function(){O.current?O.current=!1:o({type:"SET_CHECKOUT_ATTRIBUTES",payload:A})},[A]),Object(i.useEffect)(function(){O.current?O.current=!1:o({type:"SET_CHECKOUT_NOTE",payload:S})},[S]),Object(i.useEffect)(function(){R&&o({type:"TOGGLE_CART",payload:!0})},[R]),Object(i.useEffect)(function(){O.current?O.current=!1:(k&&(o({type:"UPDATE_LINE_ITEMS_AND_VARIANTS",payload:k}),o({type:"TOGGLE_CART",payload:!0})),b()(k)?o({type:"SET_IS_CART_EMPTY",payload:!0}):o({type:"SET_IS_CART_EMPTY",payload:!1}))},[k]),r.a.createElement("section",{ref:C,className:"wps-cart"},r.a.createElement(x,null),r.a.createElement(T,null),r.a.createElement(_,{isCartEmpty:n.isCartEmpty,checkoutCache:n.checkoutCache}),r.a.createElement(j,null))}}}]);