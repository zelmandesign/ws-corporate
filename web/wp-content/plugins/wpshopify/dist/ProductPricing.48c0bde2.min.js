(window.wpshopify=window.wpshopify||[]).push([["ProductPricing"],{"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/products/product/pricing/index.jsx":function(e,t,n){"use strict";n.r(t);var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(o),s=n("./node_modules/react/index.js"),i=n.n(s),a=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/products/product/_state/context.js"),c=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/items/_state/context.js"),p=i.a.createContext(),d=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/shop/_state/context.js"),l=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isEmpty.js"),w=n.n(l),u=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/last.js"),m=n.n(u),f=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/min.js"),v=n.n(f),h=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/max.js"),b=n.n(h),x=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/pricing/formatting.js"),y=i.a.forwardRef(function(e,t){var n=Object(s.useContext)(d.a),o=r()(n,1)[0];return e.price&&i.a.createElement("span",{ref:t,className:"wps-product-individual-price"},o.isShopReady&&Object(x.a)(e.price,o.info.currencyCode))});function j(){return i.a.createElement("small",{className:"wps-product-from-price"},"From:")}function P(){return i.a.createElement("span",{className:"wps-product-from-price-separator"},"â€“")}function O(e){var t=e.firstPrice,n=e.lastPrice;return i.a.createElement(i.a.Fragment,null,t!==n&&i.a.createElement(j,null),i.a.createElement(y,{price:t}),i.a.createElement(P,null),i.a.createElement(y,{price:n}))}function g(e){var t=e.firstPrice,n=e.lastPrice;return e.isFirstAndLastSame?i.a.createElement(y,{price:t}):i.a.createElement(O,{firstPrice:t,lastPrice:n})}var _=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/hooks/index.js"),E=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/animations/index.js");function A(e,t){return w()(e)?0:m()(e[t])}function S(e){return w()(e)?0:e.regPrices[0]}function C(e){return w()(e)?0:e.compareAtPrices[0]}function R(e){var t=e.compareAt,n=Object(s.useContext)(d.a),o=r()(n,1)[0],c=Object(s.useContext)(a.a),l=r()(c,1)[0],w=Object(s.useContext)(p),u=r()(w,1)[0],m=Object(s.useRef)(!0),f=Object(s.useRef)(),h=Object(s.useState)(V()),x=r()(h,2),j=x[0],P=x[1],O=Object(_.a)("show.product.pricing",!0),R=Object(E.e)(E.c);function F(){return u.showPriceRange}function V(){return t?F()?v()(u.prices.compareAtPrices):C(u.prices):F()?v()(u.prices.regPrices):S(u.prices)}function D(){return t?F()?b()(u.prices.compareAtPrices):A(u.prices,"compareAtPrices"):F()?b()(u.prices.regPrices):function(e){return A(e,"regPrices")}(u.prices)}return Object(s.useEffect)(function(){m.current?m.current=!1:l.selectedVariant&&(P(l.selectedVariant.price),R(f.current))},[l.selectedVariant]),i.a.createElement(i.a.Fragment,null,!(!F()&&t&&C(u.prices)===S(u.prices))&&O&&i.a.createElement("h3",{itemScope:!0,itemProp:"offers",itemType:"https://schema.org/Offer",className:"wps-products-price wps-product-pricing wps-products-price-one","data-wps-is-showing-compare-at":t,"data-wps-is-ready":o.isShopReady?"1":"0"},F()&&!l.selectedVariant?i.a.createElement(g,{firstPrice:V(),lastPrice:D(),isFirstAndLastSame:V()===D()}):i.a.createElement(y,{ref:f,price:j})))}function F(){var e=Object(s.useContext)(p),t=r()(e,2),n=t[0],o=(t[1],Object(s.useContext)(a.a)),c=r()(o,1)[0];return n.showCompareAt&&!c.selectedVariant?i.a.createElement(i.a.Fragment,null,i.a.createElement(R,{compareAt:!0,prices:n.prices}),i.a.createElement(R,{compareAt:!1,prices:n.prices})):i.a.createElement(R,{compareAt:!c.selectedVariant&&n.showCompareAt,prices:n.prices})}var V=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/extends.js"),D=n.n(V),L=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/defineProperty.js"),N=n.n(L);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function k(e,t){switch(t.type){case"SET_PRICES":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{prices:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type," in ProductPricingReducer"))}}var G=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/concat.js"),z=n.n(G),I=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/compact.js"),M=n.n(I);function U(e,t){return e-t}function q(e){return e.sort(U)}function B(e,t){return M()(e.variants.reduce(function(e,n){return z()(e,!!(o=n[t])&&parseFloat(o));var o},[]))}function H(e){return"asc"===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?{regPrices:q(B(e,"price")),compareAtPrices:q(B(e,"compareAtPrice"))}:{regPrices:B(e,"price"),compareAtPrices:B(e,"compareAtPrice")}}function J(e){var t=i.a.useReducer(k,function(e){return{prices:H(e.productState.payload),showPriceRange:e.productsState.componentOptions.showPriceRange,showCompareAt:e.productsState.componentOptions.showCompareAt}}(e)),n=r()(t,2),o=n[0],s=n[1],a=i.a.useMemo(function(){return[o,s]},[o]);return i.a.createElement(p.Provider,D()({value:a},e))}var K=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/utils/index.js");t.default=function(){var e=Object(s.useContext)(c.a),t=r()(e,1)[0],n=Object(s.useContext)(a.a),o=r()(n,1)[0];return Object(_.d)(i.a.createElement(J,{productsState:t,productState:o},i.a.createElement(F,null)),Object(K.f)(o.element,t.componentOptions.dropzoneProductPricing))}},"../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/_baseExtremum.js":function(e,t,n){var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isSymbol.js");e.exports=function(e,t,n){for(var r=-1,s=e.length;++r<s;){var i=e[r],a=t(i);if(null!=a&&(void 0===c?a==a&&!o(a):n(a,c)))var c=a,p=i}return p}},"../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/_baseGt.js":function(e,t){e.exports=function(e,t){return e>t}},"../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/_baseLt.js":function(e,t){e.exports=function(e,t){return e<t}},"../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/max.js":function(e,t,n){var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/_baseExtremum.js"),r=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/_baseGt.js"),s=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/identity.js");e.exports=function(e){return e&&e.length?o(e,s,r):void 0}},"../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/min.js":function(e,t,n){var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/_baseExtremum.js"),r=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/_baseLt.js"),s=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/identity.js");e.exports=function(e){return e&&e.length?o(e,s,r):void 0}}}]);